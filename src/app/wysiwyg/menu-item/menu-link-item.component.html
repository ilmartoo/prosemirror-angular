<div class="base" #base (focusout)="itemFocusLost($event)">
  <button [ngClass]="{
    item: true,
    active: MenuItemStatus.ACTIVE === status || isPopupOpen
  }"      [disabled]="MenuItemStatus.DISABLED === status"
          (click)="isPopupOpen ? closePopup() : openPopup()">
    <img class="icon" [src]="iconPath(payload)" [alt]="tooltip ?? ''">
    <div class="tooltip" *ngIf="tooltip">{{ tooltip }}</div>
  </button>

  <div #popup [ngClass]="{ popup: true, show: isPopupOpen }" tabindex="-1">
    <label>Name</label>
    <input #linkName type="text" name="link-name" (input)="validateInput()">

    <label>Reference</label>
    <input #linkReference type="text" name="link-reference" (input)="validateInput()">

    <div class="popup-actions">
      <button [disabled]="!canCreateLink" (click)="createLink()">{{ getButtonLabel() }}</button>
    </div>
  </div>

</div>
